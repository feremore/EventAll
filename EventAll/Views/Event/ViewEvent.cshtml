@model EventAll.ViewModels.ViewEventViewModel


    <div class="container">

        <div class="row" style="margin-bottom:15px;">
            <h1>@Model.Event.Name: @Model.Event.Date</h1>
            <div class="col-6">
                @if (Model.Event.Description != null)
                {
                    <h4>Event Discription:</h4>
                    <p>@Model.Event.Description</p>
                }
                <table class="table">
                    <tr>
                        <td>Venue</td>
                        <td>Budget</td>
                        <td>Total Cost</td>
                        <td>Miscellaneous Costs</td>
                    </tr>
                    <tr>
                        <td><a asp-controller="Venue" asp-action="ViewVenue" asp-route-id="@Model.Event.VenueID">@Model.Event.Venue.Name</a></td>
                        <td>$@Model.Event.Budget</td>
                        <td>$@Model.Event.TotalCost</td>
                        <td>$@Model.Event.MiscCost</td>

                    </tr>
                </table>
            </div>
        </div>
        <h1>Event Equipment:</h1>
        <div class="row" style="margin-bottom:15px;">

            @if (Model.Equipments.Count() != 0)
            {

                <div class="col-6">
                    <table class="table">
                        <tr>
                            <td>Name</td>
                            <td>Inventory</td>
                            <td>Price Per</td>
                        </tr>
                        
                        <tr>
                            @foreach (var equipment in Model.Equipments)
                            {
                                <td><a asp-controller="Equipment" asp-action="ViewEquipment" asp-route-id="@equipment.Equipment.ID">@equipment.Equipment.Name</a></td>
                                @if (equipment.Equipment.Items == null)
                                {
                                    equipment.Equipment.Items = new List<Item>();
                                }
                                <td>@equipment.Equipment.Items.Count()</td>



                                <td>$@equipment.Equipment.Price per/item</td>
                                <td>
                                    <form asp-controller="Event" asp-action="AddEquipmentItems" method="post">

                                        <label>Add Items: </label>
                                        <input type="hidden" name="EquipmentID" value="@equipment.Equipment.ID" />
                                        <input type="hidden" name="TotalItem" value="@equipment.Equipment.Items.Count()" />
                                        <input type="hidden" name="EventID" value="@Model.Event.ID" />
                                        <input type="number" name="NumItems" />
                                        <input type="submit" value="Add Items" />
                                    </form>
                                </td>
                            }
                        </tr>
                    </table>

                </div>
            }
            else
            {
               <br /><p>No Equipment Yet!</p><br />
            }
            <div>
                <form asp-controller="Event" asp-action="AddEquipment" method="post">
                    <label asp-for="EquipmentList"></label>
                    <select asp-for="EquipmentID" asp-items="Model.EquipmentList"></select>
                    <input type="hidden" name="EventID" value="@Model.Event.ID" />
                    <input type="submit" value="Add Equipment" />
                </form>
            </div>
        </div>
    </div>
